<!DOCTYPE html>
<html>
<body>


<h1>Downloading data from S3 Bucket</h1>

This dataset is available as part of the AWS Open Data Program, therefore egress fees are not charged to either the host or the person downloading the data.<br>
Metadata for this dataset is available on the <a href="https://dataverse.unc.edu/dataset.xhtml?persistentId=doi:10.15139/S3/W4HCMV">CMAS Dataverse Entry for the 2020 Platform</a><br>


Instructions for downloading the aws command line.<br>
<br>

<a href="https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html">Instructions to Download AWS Command Line</a> <br>

Once you have it installed, you can use it without credentials.<br>

Example commands:<br>

To query how much data is in a bucket: <br>


<pre>
aws s3 ls --summarize --region=us-east-1 --human-readable --region=us-east-1 --recursive s3://2020platform
</pre>

Tail of Output: <br>

<pre>
Total Objects: 24772
   Total Size: 22.0 TiB
</pre>

Note, this bucket contains initial and boundry condition files, mcip, and model ready emissions for 2020.

To find the size and list the files available in the directory containing the initial and boundary condition files, use the following command::

<pre>
aws s3 ls --summarize --region=us-east-1 --human-readable --region=us-east-1 --recursive s3://2020platform/2020platform/icbc_2020_tox_addhr
</pre>

Tail of output:

<pre>
2024-01-23 11:34:19  378.2 MiB 2020platform/icbc_2020_tox_addhr/GCv14_CB6_AE7.20201227_0000z.12US1.BCON_hap_benap.nc
2024-01-23 11:34:22  378.2 MiB 2020platform/icbc_2020_tox_addhr/GCv14_CB6_AE7.20201228_0000z.12US1.BCON_hap_benap.nc
2024-01-23 11:34:22  378.2 MiB 2020platform/icbc_2020_tox_addhr/GCv14_CB6_AE7.20201229_0000z.12US1.BCON_hap_benap.nc
2024-01-23 11:34:22  378.2 MiB 2020platform/icbc_2020_tox_addhr/GCv14_CB6_AE7.20201230_0000z.12US1.BCON_hap_benap.nc
2024-01-23 11:34:28  378.2 MiB 2020platform/icbc_2020_tox_addhr/GCv14_CB6_AE7.20201231_0000z.12US1.BCON_hap_benap.nc
2024-01-23 11:35:00   42.1 MiB 2020platform/icbc_2020_tox_addhr/GCv14_CB6_AE7.20201231_0000z.12US1.BCON_hap_benap.nc.hr21
2024-01-23 11:35:00   42.1 MiB 2020platform/icbc_2020_tox_addhr/GCv14_CB6_AE7.20201231_0000z.12US1.BCON_hap_benap.nc.hr21to24
2024-01-23 11:35:01   35.2 MiB 2020platform/icbc_2020_tox_addhr/a
2024-01-23 11:35:00   54.4 KiB 2020platform/icbc_2020_tox_addhr/h

Total Objects: 381
   Total Size: 142.7 GiB
</pre>


To find the size and list the files available in the MCIP directory for 2020, use the following command:

<pre>
 aws s3 ls --summarize --region=us-east-1 --human-readable --region=us-east-1 --recursive s3://2020platform/2020platform/mcip/WRFv4.1.1_12US1_2020_35aL_lucor
</pre>

Tail of output:

<pre>
2024-01-25 05:36:45  824 Bytes 2020platform/mcip/WRFv4.1.1_12US1_2020_35aL_lucor/v5.3.3/namelist.12US1.201216
2024-01-25 05:36:45  824 Bytes 2020platform/mcip/WRFv4.1.1_12US1_2020_35aL_lucor/v5.3.3/namelist.12US1.201217
2024-01-25 05:36:45  824 Bytes 2020platform/mcip/WRFv4.1.1_12US1_2020_35aL_lucor/v5.3.3/namelist.12US1.201218
2024-01-25 05:36:45  824 Bytes 2020platform/mcip/WRFv4.1.1_12US1_2020_35aL_lucor/v5.3.3/namelist.12US1.201219
2024-01-25 05:36:45  824 Bytes 2020platform/mcip/WRFv4.1.1_12US1_2020_35aL_lucor/v5.3.3/namelist.12US1.201220
2024-01-25 05:36:46  824 Bytes 2020platform/mcip/WRFv4.1.1_12US1_2020_35aL_lucor/v5.3.3/namelist.12US1.201221
2024-01-25 05:36:45  824 Bytes 2020platform/mcip/WRFv4.1.1_12US1_2020_35aL_lucor/v5.3.3/namelist.12US1.201222
2024-01-25 05:36:45  824 Bytes 2020platform/mcip/WRFv4.1.1_12US1_2020_35aL_lucor/v5.3.3/namelist.12US1.201223
2024-01-25 05:36:45  824 Bytes 2020platform/mcip/WRFv4.1.1_12US1_2020_35aL_lucor/v5.3.3/namelist.12US1.201224
2024-01-25 05:36:45  824 Bytes 2020platform/mcip/WRFv4.1.1_12US1_2020_35aL_lucor/v5.3.3/namelist.12US1.201225
2024-01-25 05:36:45  824 Bytes 2020platform/mcip/WRFv4.1.1_12US1_2020_35aL_lucor/v5.3.3/namelist.12US1.201226
2024-01-25 05:36:45  824 Bytes 2020platform/mcip/WRFv4.1.1_12US1_2020_35aL_lucor/v5.3.3/namelist.12US1.201227
2024-01-25 05:36:45  824 Bytes 2020platform/mcip/WRFv4.1.1_12US1_2020_35aL_lucor/v5.3.3/namelist.12US1.201228
2024-01-25 05:36:45  824 Bytes 2020platform/mcip/WRFv4.1.1_12US1_2020_35aL_lucor/v5.3.3/namelist.12US1.201229
2024-01-25 05:36:45  824 Bytes 2020platform/mcip/WRFv4.1.1_12US1_2020_35aL_lucor/v5.3.3/namelist.12US1.201230
2024-01-25 05:36:45  824 Bytes 2020platform/mcip/WRFv4.1.1_12US1_2020_35aL_lucor/v5.3.3/namelist.12US1.201231

Total Objects: 4180
   Total Size: 4.8 TiB

</pre>


To find the size and list the files available in the model ready emissions directory for 2020, use the following command:

<pre>
 aws s3 ls --summarize --region=us-east-1 --human-readable --region=us-east-1 --recursive s3://2020platform/2020platform/emis
</pre>

Tail of the output:

<pre>
2023-12-20 09:55:51    5.9 GiB 2020platform/emis/smoke_out/2020ha_cb6_20k/12US1/cmaq_cb6ae7/ptnonipm_no-landfills/inln_mole_ptnonipm_no-landfills_20201126_12US1_cmaq_cb6ae7_2020ha_cb6_20k.ncf
2023-12-20 09:55:51    5.9 GiB 2020platform/emis/smoke_out/2020ha_cb6_20k/12US1/cmaq_cb6ae7/ptnonipm_no-landfills/inln_mole_ptnonipm_no-landfills_20201127_12US1_cmaq_cb6ae7_2020ha_cb6_20k.ncf
2023-12-20 09:55:51    5.9 GiB 2020platform/emis/smoke_out/2020ha_cb6_20k/12US1/cmaq_cb6ae7/ptnonipm_no-landfills/inln_mole_ptnonipm_no-landfills_20201128_12US1_cmaq_cb6ae7_2020ha_cb6_20k.ncf
2023-12-20 09:55:51    5.9 GiB 2020platform/emis/smoke_out/2020ha_cb6_20k/12US1/cmaq_cb6ae7/ptnonipm_no-landfills/inln_mole_ptnonipm_no-landfills_20201207_12US1_cmaq_cb6ae7_2020ha_cb6_20k.ncf
2023-12-20 09:55:51    5.9 GiB 2020platform/emis/smoke_out/2020ha_cb6_20k/12US1/cmaq_cb6ae7/ptnonipm_no-landfills/inln_mole_ptnonipm_no-landfills_20201208_12US1_cmaq_cb6ae7_2020ha_cb6_20k.ncf
2023-12-20 09:55:51    5.9 GiB 2020platform/emis/smoke_out/2020ha_cb6_20k/12US1/cmaq_cb6ae7/ptnonipm_no-landfills/inln_mole_ptnonipm_no-landfills_20201212_12US1_cmaq_cb6ae7_2020ha_cb6_20k.ncf
2023-12-20 09:55:51    5.9 GiB 2020platform/emis/smoke_out/2020ha_cb6_20k/12US1/cmaq_cb6ae7/ptnonipm_no-landfills/inln_mole_ptnonipm_no-landfills_20201213_12US1_cmaq_cb6ae7_2020ha_cb6_20k.ncf
2023-12-20 09:55:51    5.9 GiB 2020platform/emis/smoke_out/2020ha_cb6_20k/12US1/cmaq_cb6ae7/ptnonipm_no-landfills/inln_mole_ptnonipm_no-landfills_20201224_12US1_cmaq_cb6ae7_2020ha_cb6_20k.ncf
2023-12-20 09:55:51    5.9 GiB 2020platform/emis/smoke_out/2020ha_cb6_20k/12US1/cmaq_cb6ae7/ptnonipm_no-landfills/inln_mole_ptnonipm_no-landfills_20201225_12US1_cmaq_cb6ae7_2020ha_cb6_20k.ncf
2023-12-20 09:55:51    5.9 GiB 2020platform/emis/smoke_out/2020ha_cb6_20k/12US1/cmaq_cb6ae7/ptnonipm_no-landfills/inln_mole_ptnonipm_no-landfills_20201226_12US1_cmaq_cb6ae7_2020ha_cb6_20k.ncf
2023-12-20 09:55:51   29.4 MiB 2020platform/emis/smoke_out/2020ha_cb6_20k/12US1/cmaq_cb6ae7/ptnonipm_no-landfills/stack_groups_ptnonipm_no-landfills_12US1_2020ha_cb6_20k.ncf

Total Objects: 10049
   Total Size: 5.0 TiB
</pre>


To copy or download all of this data, if you have 22 TiB of local disk space, use the following command:

<pre>
aws s3 --no-sign-request --region=us-east-1 cp --recursive s3://2020platform /your/local/directory/
</pre>

A script is being developed for downloading 2 days of input data to run a benchmark using this case. That script can be modified to obtain files required to model for a user specified time period.


Please submit any questions or difficulties as a new issue on the CMAS User Forum.<br>
<a href="https://forum.cmascenter.org/">CMAS User Forum</a><br>


</body>
</html>

