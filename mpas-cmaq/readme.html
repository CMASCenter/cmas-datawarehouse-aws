 <!DOCTYPE html>
<html>
<body>

<h1>MPAS-CMAQ Input and Output Data</h1>

<br>

Full MPAS-CMAQ inputs are available for 2017 <br>

See text file for full list of what is available in this bucket.
<br>
<a href="./mpas-cmaq.list.txt">mpas-cmaq.list.txt</a>
</br>


<br>

<h1>Downloading data from S3 Bucket</h1> <br>

This dataset is available as part of the AWS Open Data Program, therefore egress fees are not charged to either the host or the person downloading the data.<br>

Instructions for downloading the aws command line.<br>
<br>

<a href="https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html">Instructions to Download AWS Command Line</a> <br>

Once you have it installed, you can use it without credentials.<br>

Example commands:<br> 

To query how much data is in a bucket: <br>

<pre>
aws s3 ls --summarize --region=us-east-1 --human-readable --recursive s3://mpas-cmaq
</pre>


Output: <br>

<pre>
2024-09-27 11:04:06   70.0 GiB 120_uniform/cmaq_inputs/emissions/2017_120km.tar.bz2
2024-09-27 11:04:47  809.1 MiB 120_uniform/cmaq_inputs/emissions/one_day.tar.bz2
2024-09-27 11:05:35   68.1 MiB 120_uniform/cmaq_inputs/other/megan_input.nc
2024-09-27 11:07:05    3.8 MiB 120_uniform/cmaq_inputs/other/ocean_file_120_APR.nc
2024-09-27 11:08:58    3.8 MiB 120_uniform/cmaq_inputs/other/ocean_file_120_AUG.nc
2024-09-27 11:10:23    3.8 MiB 120_uniform/cmaq_inputs/other/ocean_file_120_DEC.nc
2024-09-27 11:10:24    3.8 MiB 120_uniform/cmaq_inputs/other/ocean_file_120_FEB.nc
2024-09-27 11:10:24    3.8 MiB 120_uniform/cmaq_inputs/other/ocean_file_120_JAN.nc
2024-09-27 11:10:24    3.8 MiB 120_uniform/cmaq_inputs/other/ocean_file_120_JUL.nc
2024-09-27 11:10:25    3.8 MiB 120_uniform/cmaq_inputs/other/ocean_file_120_JUN.nc
2024-09-27 11:10:25    3.8 MiB 120_uniform/cmaq_inputs/other/ocean_file_120_MAR.nc
2024-09-27 11:10:25    3.8 MiB 120_uniform/cmaq_inputs/other/ocean_file_120_MAY.nc
2024-09-27 11:10:25    3.8 MiB 120_uniform/cmaq_inputs/other/ocean_file_120_NOV.nc
2024-09-27 11:10:25    3.8 MiB 120_uniform/cmaq_inputs/other/ocean_file_120_OCT.nc
2024-09-27 11:10:25    3.8 MiB 120_uniform/cmaq_inputs/other/ocean_file_120_SEP.nc
2024-09-27 11:10:26  254.4 MiB 120_uniform/cmaq_inputs/other/omi_cmaq_2017.dat
2024-09-27 11:16:18    5.9 GiB 120_uniform/mpas_inputs/restart.2017-01-01_00.00.00.nc
2024-09-27 11:17:13  111.6 GiB 120_uniform/mpas_inputs/x1.40962.fdda.2017.nc
2024-09-27 11:20:16  707.4 MiB 120_uniform/mpas_inputs/x1.40962.init.20170101.nc
2024-09-27 11:20:41   23.3 GiB 120_uniform/mpas_inputs/x1.40962.ozone.2017.nc
2024-09-27 11:20:31  915.1 MiB 120_uniform/mpas_inputs/x1.40962.sfc_update.2017.nc
2024-09-27 11:21:45    1.3 GiB 120_uniform/mpas_inputs/x1.40962.soilndg.2017.nc
2024-09-11 11:25:13   30.9 KiB index.html
2024-09-11 11:31:18    2.1 KiB readme.html

Total Objects: 24
   Total Size: 214.9 GiB

</pre>


To copy all the files from the bucket to your local filesystem (the system where you are running the aws cli) and place it under the path that you specify for /your_local_path. <br>

<pre>
aws s3 --no-sign-request cp --recursive s3://mpas-cmaq/ /your_local_path/
</pre>

To obtain just the files you need from the CMAQ input data and avoid downloading the full bucket you can use the --include and --exclude commands and use the --dryrun option to see what would be copied before you begin. <br>
<a href="https://docs.aws.amazon.com/cli/latest/reference/s3/cp.html">AWS CLI S3 Copy command - latest reference manual</a>

<pre>
aws s3 ls --summarize --region=us-east-1 --human-readable --recursive s3://mpas-cmaq
</pre>


Example, to only copy the README to your local directory "." use: <br>

<pre>
aws s3 cp --dryrun --region=us-east-1 --exclude "*" --include "readme.html" --recursive s3://mpas-cmaq .
</pre>

You can also use the aws s3 cp command to obtain specific dates using the above method. <br>


Please submit any questions or difficulties as a new issue on the CMAS User Forum.<br>
<a href="https://forum.cmascenter.org/">CMAS User Forum</a><br>

</body>
</html>
